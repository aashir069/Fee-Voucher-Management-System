@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model _2024_08E_Web_App.Models.Voucher

@if(ViewBag.Message != null)
{
    <script>
        alert("@ViewBag.Message")
    </script>
}

    

        <div class="container">
            <h2>Fees Voucher System</h2>

            <!-- Voucher Form -->
            <div class="card">
                <form asp-action="Create"id="voucherForm" method="post">
                    <div class="form-grid">
                        <div>
                            <label>Receipt No</label>
                            <input type="text" asp-for="ReceiptNo" id="receiptNo" required>
                        </div>

                        <div>
                            <label>Date</label>
                            <input type="date" asp-for="Date" id="date" required>
                        </div>

                        <div>
                            <label>Enrollment No</label>
                            <input type="text" asp-for="EnrollmentNo" id="enrollment" required>
                        </div>

                        <div>
                            <label>Student Name</label>
                            <input type="text" asp-for="StudentName" id="studentName" required>
                        </div>

                        <div>
                            <label>Address</label>
                            <input type="text" asp-for="Address" id="address">
                        </div>

                        <div>
                            <label>Payment Method</label>
                            <select id="paymentMethod" asp-for="PaymentMethod">
                                <option>Cash</option>
                                <option>Online</option>
                                <option>Cheque</option>
                            </select>
                        </div>

                        <div>
                            <label>Payment Reference</label>
                            <input type="text" asp-for="PaymentRefrence" id="paymentRef">
                        </div>

                        <div>
                            <label>Cash Amount</label>
                            <input type="number" asp-for="CashAmount" id="cashAmount" value="0">
                        </div>

                        <div>
                            <label>Online Amount</label>
                            <input type="number" asp-for="OnlineAmount" id="onlineAmount" value="0">
                        </div>
                    </div>

                    <br>
                    <button type="submit" class="btn-primary">Generate Voucher</button>
                </form>
            </div>

            @if (ViewBag.ShowPreview != null)

            {
                var data = ViewBag.ShowData as Voucher;
                         <!-- Preview Table -->
            <div class="card">
                <h3>Voucher Preview</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Voucher #</th>
                            <th>Student Name</th>
                            <th>Payment Method</th>
                            <th>Amount</th>
                            <th>Date</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="voucherTable">
                        <tr>
                            <td>@data.ReceiptNo</td>
                            <td>@data.StudentName</td>
                            <td>@data.PaymentMethod</td>
                            <td>@data.CashAmount</td>
                            <td>@data.Date</td>
                            <td><span class="badge badge-paid">Paid</span></td>
                            <td>
                                <button class="btn btn-sm btn-warning">Edit</button>
                                <button class="btn btn-sm btn-info">Print</button>
                                <button class="btn btn-sm btn-danger">Delete</button>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        

}
